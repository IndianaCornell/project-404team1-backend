# Foodies API ‚Äì Swagger Guide

## –Ø–∫ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é (Swagger + ReDocly)

## –©–æ —Ç–∞–∫–µ Swagger?

Swagger (OpenAPI) ‚Äî —Ü–µ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è API.  
–í–æ–Ω–∞ –¥–æ–∑–≤–æ–ª—è—î:

- –±–∞—á–∏—Ç–∏ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ **–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –±–µ–∫–µ–Ω–¥—É**,
- –∑–∞–ø—É—Å–∫–∞—Ç–∏ —ó—Ö –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ,
- —à–≤–∏–¥–∫–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏ –±–µ–∑ Postman/Insomnia,
- –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É.

## –Ø–∫ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é

1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∑ Swagger UI

npm run docs:dev

–¶—è –∫–æ–º–∞–Ω–¥–∞ —Ä–æ–±–∏—Ç—å –¥–≤–∞ –∫—Ä–æ–∫–∏:

–ó–±–∏—Ä–∞—î –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é (openapi.yaml + paths/_.yaml + components/_.yaml) —É —î–¥–∏–Ω–∏–π —Ñ–∞–π–ª docs/swagger.json.

–ó–∞–ø—É—Å–∫–∞—î –±–µ–∫–µ–Ω–¥ (nodemon server.js) –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–º Swagger UI.

2. –í—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

Swagger UI –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—É—Ç:
üëâ http://localhost:3000/api-docs

üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
docs/
‚îú‚îÄ openapi.yaml # –≥–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ API
‚îú‚îÄ components/ # –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏
‚îÇ ‚îú‚îÄ schemas.yaml # –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö (User, Recipe, Review)
‚îÇ ‚îî‚îÄ responses.yaml # —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (401, 404)
‚îî‚îÄ paths/ # –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ (–≥—Ä—É–ø–∏ –ø–æ —Ä–µ—Å—É—Ä—Å–∞—Ö)
‚îú‚îÄ auth.yaml # /auth/_
‚îú‚îÄ users.yaml # /users/_
‚îú‚îÄ recipes.yaml # /recipes/_
‚îî‚îÄ reviews.yaml # /recipes/{id}/reviews/_

üîπ openapi.yaml

–ú—ñ—Å—Ç–∏—Ç—å:

info ‚Äî –∑–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è (–Ω–∞–∑–≤–∞, –≤–µ—Ä—Å—ñ—è);

servers ‚Äî –±–∞–∑–æ–≤–∏–π URL API;

tags ‚Äî –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤;

paths ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–∫—Ä–µ–º—ñ YAML —Ñ–∞–π–ª–∏ –∑ –æ–ø–∏—Å–∞–º–∏ ($ref: ./paths/...);

components ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ñ —Å—Ö–µ–º–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó.

üîπ components/schemas.yaml

–û–ø–∏—Å—É—î –≤—Å—ñ –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö (User, Recipe, Review, LoginRequest, AuthResponse —ñ —Ç.–¥.).

üîπ components/responses.yaml

–ü–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Å–µ—Ä–≤–µ—Ä–∞ (401, 404 —ñ —Ç.–¥.).

üîπ paths/\*.yaml

–ö–æ–∂–µ–Ω —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –ø–µ–≤–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É.
–ù–∞–ø—Ä–∏–∫–ª–∞–¥, paths/auth.yaml –æ–ø–∏—Å—É—î /auth/register —ñ /auth/login.

## –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ Swagger UI

![Swagger UI –≥–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞](images/swagger-ui-home.png)

‚úÖ –¢–µ–ø–µ—Ä —É—Å—ñ –∑–∞–ø–∏—Ç–∏ –∑ security: bearerAuth –±—É–¥—É—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç–æ–∫–µ–Ω.

## –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—É —É Swagger

### –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

POST /auth/register

{
"email": "user@example.com",
"password": "secret123",
"name": "Ivan"
}

![alt text](images/auth-register.png)

### –õ–æ–≥—ñ–Ω

## üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (JWT)

–í–∏–∫–æ–Ω–∞–π POST /auth/register –∞–±–æ POST /auth/login, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ token.

–°–∫–æ–ø—ñ—é–π token —ñ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ.

–£ Swagger UI –Ω–∞—Ç–∏—Å–Ω–∏ –∫–Ω–æ–ø–∫—É Authorize.

–í—Å—Ç–∞–≤ Bearer <—Ç–≤—ñ–π_token> —ñ –Ω–∞—Ç–∏—Å–Ω–∏ Authorize ‚Üí Close.

POST /auth/login

{
"email": "user@example.com",
"password": "secret123"
}

üìå –í—ñ–¥–ø–æ–≤—ñ–¥—å:

{
"token": "jwt_token_here",
"user": { "id": "abc123", "email": "user@example.com", "name": "Ivan" }
}

## –ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

![alt text](images/auth-register.png)

### –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å

GET /users/me

–í–∏–º–∞–≥–∞—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó (Bearer token).

## –ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

![alt text](images/users-me.png)

### –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–µ—Ü–µ–ø—Ç

POST /recipes

{
"title": "Borshch",
"description": "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –±–æ—Ä—â",
"instructions": "–ó–≤–∞—Ä–∏—Ç–∏...",
"image_url": "https://example.com/image.jpg",
"category_id": "cat1",
"ingredients": [
{ "ingredient_id": "ing1", "quantity": "2 pcs" }
]
}

## –ü—Ä–∏–∫–ª–∞–¥

![alt text](images/recipes-create.png)

### –¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏

401 Unauthorized ‚Üí –Ω–µ –¥–æ–¥–∞–Ω–æ Bearer token –∞–±–æ —Ç–æ–∫–µ–Ω –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–∏–π.

404 Not Found ‚Üí —Ä–µ—Å—É—Ä—Å —ñ–∑ —Ç–∞–∫–∏–º ID –Ω–µ —ñ—Å–Ω—É—î.

400 Bad Request ‚Üí –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ñ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –ø–æ–ª—è —É requestBody.

## –ü—Ä–∏–∫–ª–∞–¥ 401 –ø–æ–º–∏–ª–∫–∏

![alt text](images/error-401.png)

### üìñ FAQ

‚ùì Swagger –Ω–µ –ø–æ–∫–∞–∑—É—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

üëâ –í–∏–∫–æ–Ω–∞–π:

npm run build-docs
npm run dev

‚ùì –ß–æ–º—É –ø—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —è –Ω–µ –º–æ–∂—É –∑—Ä–æ–±–∏—Ç–∏ /users/me?

üëâ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π token –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ /auth/login.

‚ùì –ß–∏ –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ Swagger –±–µ–∑ –±–µ–∫–µ–Ω–¥—É?

üëâ –ù—ñ, Swagger UI –ø—ñ–¥—Ç—è–≥—É—î –¥–∞–Ω—ñ –∑ API.

### üìå –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

–ó—ñ–±—Ä–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é:

npm run build-docs

–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–µ–≤‚Äô—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó (hot reload):

npm run preview-docs

–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–µ–∫–µ–Ω–¥ + Swagger:

npm run docs:dev
